{"version":3,"file":"cookie_control_public.js","mappings":"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","sources":["webpack://Civic Cookie Control/./asset_src/js/banner.js","webpack://Civic Cookie Control/./asset_src/js/details.js","webpack://Civic Cookie Control/webpack/bootstrap","webpack://Civic Cookie Control/webpack/runtime/compat get default export","webpack://Civic Cookie Control/webpack/runtime/define property getters","webpack://Civic Cookie Control/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["(function () {\n  const cookieBannerButtonAcceptHide = document.querySelector(\n    \".cookie-banner-accept--hide\"\n  );\n  const cookieBannerButtonRejectHide = document.querySelector(\n    \".cookie-banner-reject--hide\"\n  );\n  const cookieBannerButtonAccept = document.querySelector(\n    \".cookie-banner-button--accept\"\n  );\n  const cookieBannerButtonReject = document.querySelector(\n    \".cookie-banner-button--reject\"\n  );\n  const cookieBannerAccept = document.querySelector(\".cookie-banner--accept\");\n  const cookieBannerReject = document.querySelector(\".cookie-banner--reject\");\n  const cookieBannerMain = document.querySelector(\".cookie-banner--main\");\n  const cookieBanner = document.querySelector(\".ccc-cookie-banner\");\n  const body = document.getElementsByTagName(\"BODY\")[0];\n\n  function CccResizeTopBody() {\n    if (\n      cookieBanner &&\n      cookieBanner.classList.contains(\"fixed-top\") &&\n      !body.classList.contains(\"toolbar-fixed\")\n    ) {\n      let bannerHeight = cookieBanner.offsetHeight;\n      body.style.paddingTop = bannerHeight + \"px\";\n    }\n  }\n\n  function hideElement(element) {\n    element.hidden = true;\n    body.style.paddingTop = 0;\n  }\n\n  function showElement(element) {\n    element.setAttribute(\"tabindex\", -1);\n    element.hidden = false;\n  }\n\n  function hideConfirmation(e) {\n    e.preventDefault();\n    hideElement(cookieBanner);\n    body.style.paddingTop = 0;\n  }\n\n  function showConfirmation(e) {\n    const cookieValue = e.target.value;\n    e.preventDefault();\n    hideElement(cookieBannerMain);\n\n    if (cookieValue === \"accept\") {\n      showElement(cookieBannerAccept);\n      //Cookie Control accept all\n      CookieControl.acceptAll();\n    }\n    if (cookieValue === \"reject\") {\n      showElement(cookieBannerReject);\n      //Cookie Control reject all\n      CookieControl.rejectAll();\n    }\n    if (\n      cookieBanner &&\n      cookieBanner.classList.contains(\"fixed-top\") &&\n      !body.classList.contains(\"toolbar-fixed\")\n    ) {\n      let bannerHeight = cookieBanner.offsetHeight;\n      body.style.paddingTop = bannerHeight + \"px\";\n    }\n  }\n\n  function CccGetCookieValue(name) {\n    return document.cookie.match(\"(^|;)\\\\s*\" + name + \"\\\\s*=\\\\s*([^;]+)\")\n      ? document.cookie.match(\"(^|;)\\\\s*\" + name + \"\\\\s*=\\\\s*([^;]+)\").pop()\n      : \"\";\n  }\n\n  window.addEventListener(\"load\", (event) => {\n    if (\n      cookieBanner &&\n      CccGetCookieValue(\"CookieControl\").indexOf(\"accepted\") === -1 &&\n      CccGetCookieValue(\"CookieControl\").indexOf(\"revoked\") === -1\n    ) {\n      showElement(cookieBanner);\n      CccResizeTopBody();\n      window.onresize = CccResizeTopBody;\n    }\n\n    if (cookieBannerButtonAcceptHide != null) {\n      cookieBannerButtonAcceptHide.addEventListener(\"click\", hideConfirmation);\n      cookieBannerButtonRejectHide.addEventListener(\"click\", hideConfirmation);\n    }\n    if (cookieBanner != null) {\n      cookieBannerButtonAccept.addEventListener(\"click\", showConfirmation);\n      cookieBannerButtonReject.addEventListener(\"click\", showConfirmation);\n    }\n  });\n})();\n","(function () {\n  const cookieFormMessage = document.querySelector(\".ccc-cookie-form-message\");\n  const cookieCategories = document.getElementsByClassName(\n    \"govuk-cookiecontrol-radios\"\n  );\n  const cookieCategoryForms = document.querySelectorAll(\n    \".ccc-govuk-form-group\"\n  );\n  function CccheckUntilSuccess(i, delay = 200) {\n    let timer = null;\n    let counter = 0;\n    function check() {\n      let cccStateCategory = CookieControl.getCategoryConsent(i);\n      if (cccStateCategory != null) {\n        clearTimeout(timer);\n        if (cccStateCategory === true) {\n          document.getElementById(\"accept-\" + i).checked = true;\n        } else if (cccStateCategory === false) {\n          document.getElementById(\"reject-\" + i).checked = true;\n        }\n      } else {\n        counter++;\n        if (counter === 50) {\n          clearTimeout(timer);\n        } else {\n          timer = setTimeout(check, delay);\n        }\n      }\n    }\n    timer = setTimeout(check, delay);\n  }\n\n  function CccGetCookieValue(name) {\n    return document.cookie.match(\"(^|;)\\\\s*\" + name + \"\\\\s*=\\\\s*([^;]+)\")\n      ? document.cookie.match(\"(^|;)\\\\s*\" + name + \"\\\\s*=\\\\s*([^;]+)\").pop()\n      : \"\";\n  }\n  function cccGovUkDetails() {\n    if (\n      cookieCategories &&\n      (CccGetCookieValue(\"CookieControl\").indexOf(\"accepted\") !== -1 ||\n        CccGetCookieValue(\"CookieControl\").indexOf(\"revoked\") !== -1)\n    ) {\n      for (let i = 0; i < cookieCategories.length; i++) {\n        CccheckUntilSuccess(i);\n      }\n    }\n\n    if (cookieCategoryForms) {\n      for (let i = 0; i < cookieCategoryForms.length; i++) {\n        cookieCategoryForms[i]\n          .closest(\".cookie-category-form\")\n          .addEventListener(\"submit\", function (e) {\n            e.preventDefault();\n            if (\n              document.getElementById(\"accept-\" + i).checked === true ||\n              document.getElementById(\"reject-\" + i).checked === true\n            ) {\n              if (document.getElementById(\"accept-\" + i).checked === true) {\n                cccChangeCategory(i, true);\n              } else if (\n                document.getElementById(\"reject-\" + i).checked === true\n              ) {\n                cccChangeCategory(i, false);\n              }\n            }\n          });\n      }\n    }\n  }\n\n  function cccChangeCategory(positon, statement) {\n    let $changeCat = CookieControl.changeCategory(positon, statement);\n    if ($changeCat) {\n      cookieFormMessage.hidden = false;\n      cookieFormMessage.scrollIntoView({ behavior: \"smooth\", duration: 500 });\n    }\n  }\n\n  window.addEventListener(\"load\", (event) => {\n    cccGovUkDetails();\n  });\n})();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))"],"names":["cookieBannerButtonAcceptHide","document","querySelector","cookieBannerButtonRejectHide","cookieBannerButtonAccept","cookieBannerButtonReject","cookieBannerAccept","cookieBannerReject","cookieBannerMain","cookieBanner","body","getElementsByTagName","CccResizeTopBody","classList","contains","bannerHeight","offsetHeight","style","paddingTop","hideElement","element","hidden","showElement","setAttribute","hideConfirmation","e","preventDefault","showConfirmation","cookieValue","target","value","CookieControl","acceptAll","rejectAll","CccGetCookieValue","name","cookie","match","pop","window","addEventListener","event","indexOf","onresize","cookieFormMessage","cookieCategories","getElementsByClassName","cookieCategoryForms","querySelectorAll","CccheckUntilSuccess","i","delay","arguments","length","undefined","timer","counter","setTimeout","check","cccStateCategory","getCategoryConsent","clearTimeout","getElementById","checked","cccChangeCategory","positon","statement","changeCategory","scrollIntoView","behavior","duration","_loop","_i","closest","cccGovUkDetails","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call"],"sourceRoot":""}